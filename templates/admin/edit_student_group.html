{% extends "base.html" %}

{% block title %}Edit Student Group - Admin Dashboard{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1 class="h3 mb-0">
            <i class="fas fa-edit text-primary me-2"></i>
            Edit Student Group
        </h1>
        <p class="text-muted">Update group information</p>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">
                    <i class="fas fa-users me-2"></i>Group Information
                </h6>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="name" class="form-label">Group Name</label>
                                <input type="text" class="form-control" id="name" name="name" value="{{ group.name }}" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="department" class="form-label">Department</label>
                                <select class="form-control" id="department" name="department" required>
                                    <option value="Computer Science" {% if group.department == 'Computer Science' %}selected{% endif %}>Computer Science</option>
                                    <option value="Electrical Engineering" {% if group.department == 'Electrical Engineering' %}selected{% endif %}>Electrical Engineering</option>
                                    <option value="Mechanical Engineering" {% if group.department == 'Mechanical Engineering' %}selected{% endif %}>Mechanical Engineering</option>
                                    <option value="Civil Engineering" {% if group.department == 'Civil Engineering' %}selected{% endif %}>Civil Engineering</option>
                                    <option value="Information Technology" {% if group.department == 'Information Technology' %}selected{% endif %}>Information Technology</option>
                                    <option value="Electronics & Communication" {% if group.department == 'Electronics & Communication' %}selected{% endif %}>Electronics & Communication</option>
                                    <option value="Chemical Engineering" {% if group.department == 'Chemical Engineering' %}selected{% endif %}>Chemical Engineering</option>
                                    <option value="Biotechnology" {% if group.department == 'Biotechnology' %}selected{% endif %}>Biotechnology</option>
                                    <option value="Mathematics" {% if group.department == 'Mathematics' %}selected{% endif %}>Mathematics</option>
                                    <option value="Physics" {% if group.department == 'Physics' %}selected{% endif %}>Physics</option>
                                    <option value="Chemistry" {% if group.department == 'Chemistry' %}selected{% endif %}>Chemistry</option>
                                    <option value="English" {% if group.department == 'English' %}selected{% endif %}>English</option>
                                    <option value="Management" {% if group.department == 'Management' %}selected{% endif %}>Management</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="year" class="form-label">Year</label>
                                <input type="number" class="form-control" id="year" name="year" value="{{ group.year }}" min="2020" max="2030" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="semester" class="form-label">Semester</label>
                                <select class="form-control" id="semester" name="semester" required>
                                    <option value="1" {% if group.semester == 1 %}selected{% endif %}>Semester 1</option>
                                    <option value="2" {% if group.semester == 2 %}selected{% endif %}>Semester 2</option>
                                    <option value="3" {% if group.semester == 3 %}selected{% endif %}>Semester 3</option>
                                    <option value="4" {% if group.semester == 4 %}selected{% endif %}>Semester 4</option>
                                    <option value="5" {% if group.semester == 5 %}selected{% endif %}>Semester 5</option>
                                    <option value="6" {% if group.semester == 6 %}selected{% endif %}>Semester 6</option>
                                    <option value="7" {% if group.semester == 7 %}selected{% endif %}>Semester 7</option>
                                    <option value="8" {% if group.semester == 8 %}selected{% endif %}>Semester 8</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group d-flex justify-content-between">
                        <a href="{{ url_for('admin_student_groups') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left me-1"></i>Cancel
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save me-1"></i>Update Group
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card shadow">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">
                    <i class="fas fa-info-circle me-2"></i>Current Details
                </h6>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <strong>Group Name:</strong><br>
                    <span class="text-muted">{{ group.name }}</span>
                </div>
                <div class="mb-3">
                    <strong>Department:</strong><br>
                    <span class="text-muted">{{ group.department }}</span>
                </div>
                <div class="mb-3">
                    <strong>Year:</strong> {{ group.year }}
                </div>
                <div class="mb-3">
                    <strong>Semester:</strong> {{ group.semester }}
                </div>
                <div class="mb-3">
                    <strong>Students:</strong> {{ group.students|length }}
                </div>
                <div class="mb-3">
                    <strong>Courses:</strong> {{ group.courses|length }}
                </div>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Note:</strong> Changing group details may affect student enrollments and course assignments.
                </div>
                
                <div class="mt-3">
                    <a href="{{ url_for('admin_manage_group_courses', group_id=group.id) }}" class="btn btn-outline-info btn-sm w-100">
                        <i class="fas fa-book me-1"></i>Manage Group Courses
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

